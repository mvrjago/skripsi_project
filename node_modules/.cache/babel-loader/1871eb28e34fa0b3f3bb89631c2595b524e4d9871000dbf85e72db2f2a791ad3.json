{"ast":null,"code":"/**\n * @module ol/source/ImageMapGuide\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport EventType from '../events/EventType.js';\nimport ImageSource, { defaultImageLoadFunction } from './Image.js';\nimport ImageWrapper from '../Image.js';\nimport { appendParams } from '../uri.js';\nimport { assign } from '../obj.js';\nimport { containsExtent, getCenter, getHeight, getWidth, scaleFromCenter } from '../extent.js';\n/**\n * @typedef {Object} Options\n * @property {string} [url] The mapagent url.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {number} [displayDpi=96] The display resolution.\n * @property {number} [metersPerUnit=1] The meters-per-unit value.\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\n * the image from the remote server.\n * @property {boolean} [useOverlay] If `true`, will use `GETDYNAMICMAPOVERLAYIMAGE`.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {number} [ratio=1] Ratio. `1` means image requests are the size of the map viewport, `2` means\n * twice the width and height of the map viewport, and so on. Must be `1` or higher.\n * @property {Array<number>} [resolutions] Resolutions.\n * If specified, requests will be made for these resolutions only.\n * @property {import(\"../Image.js\").LoadFunction} [imageLoadFunction] Optional function to load an image given a URL.\n * @property {boolean} [imageSmoothing=true] Enable image smoothing.\n * @property {Object} [params] Additional parameters.\n */\n/**\n * @classdesc\n * Source for images from Mapguide servers\n *\n * @fires module:ol/source/Image.ImageSourceEvent\n * @api\n */\nvar ImageMapGuide = /** @class */function (_super) {\n  __extends(ImageMapGuide, _super);\n  /**\n   * @param {Options} options ImageMapGuide options.\n   */\n  function ImageMapGuide(options) {\n    var _this = _super.call(this, {\n      imageSmoothing: options.imageSmoothing,\n      projection: options.projection,\n      resolutions: options.resolutions\n    }) || this;\n    /**\n     * @private\n     * @type {?string}\n     */\n    _this.crossOrigin_ = options.crossOrigin !== undefined ? options.crossOrigin : null;\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.displayDpi_ = options.displayDpi !== undefined ? options.displayDpi : 96;\n    /**\n     * @private\n     * @type {!Object}\n     */\n    _this.params_ = options.params || {};\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    _this.url_ = options.url;\n    /**\n     * @private\n     * @type {import(\"../Image.js\").LoadFunction}\n     */\n    _this.imageLoadFunction_ = options.imageLoadFunction !== undefined ? options.imageLoadFunction : defaultImageLoadFunction;\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.metersPerUnit_ = options.metersPerUnit !== undefined ? options.metersPerUnit : 1;\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.ratio_ = options.ratio !== undefined ? options.ratio : 1;\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _this.useOverlay_ = options.useOverlay !== undefined ? options.useOverlay : false;\n    /**\n     * @private\n     * @type {import(\"../Image.js\").default}\n     */\n    _this.image_ = null;\n    /**\n     * @private\n     * @type {number}\n     */\n    _this.renderedRevision_ = 0;\n    return _this;\n  }\n  /**\n   * Get the user-provided params, i.e. those passed to the constructor through\n   * the \"params\" option, and possibly updated using the updateParams method.\n   * @return {Object} Params.\n   * @api\n   */\n  ImageMapGuide.prototype.getParams = function () {\n    return this.params_;\n  };\n  /**\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {number} resolution Resolution.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\n   * @return {import(\"../Image.js\").default} Single image.\n   */\n  ImageMapGuide.prototype.getImageInternal = function (extent, resolution, pixelRatio, projection) {\n    resolution = this.findNearestResolution(resolution);\n    pixelRatio = this.hidpi_ ? pixelRatio : 1;\n    var image = this.image_;\n    if (image && this.renderedRevision_ == this.getRevision() && image.getResolution() == resolution && image.getPixelRatio() == pixelRatio && containsExtent(image.getExtent(), extent)) {\n      return image;\n    }\n    if (this.ratio_ != 1) {\n      extent = extent.slice();\n      scaleFromCenter(extent, this.ratio_);\n    }\n    var width = getWidth(extent) / resolution;\n    var height = getHeight(extent) / resolution;\n    var size = [width * pixelRatio, height * pixelRatio];\n    if (this.url_ !== undefined) {\n      var imageUrl = this.getUrl(this.url_, this.params_, extent, size, projection);\n      image = new ImageWrapper(extent, resolution, pixelRatio, imageUrl, this.crossOrigin_, this.imageLoadFunction_);\n      image.addEventListener(EventType.CHANGE, this.handleImageChange.bind(this));\n    } else {\n      image = null;\n    }\n    this.image_ = image;\n    this.renderedRevision_ = this.getRevision();\n    return image;\n  };\n  /**\n   * Return the image load function of the source.\n   * @return {import(\"../Image.js\").LoadFunction} The image load function.\n   * @api\n   */\n  ImageMapGuide.prototype.getImageLoadFunction = function () {\n    return this.imageLoadFunction_;\n  };\n  /**\n   * Update the user-provided params.\n   * @param {Object} params Params.\n   * @api\n   */\n  ImageMapGuide.prototype.updateParams = function (params) {\n    assign(this.params_, params);\n    this.changed();\n  };\n  /**\n   * @param {string} baseUrl The mapagent url.\n   * @param {Object<string, string|number>} params Request parameters.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {import(\"../size.js\").Size} size Size.\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\n   * @return {string} The mapagent map image request URL.\n   */\n  ImageMapGuide.prototype.getUrl = function (baseUrl, params, extent, size, projection) {\n    var scale = getScale(extent, size, this.metersPerUnit_, this.displayDpi_);\n    var center = getCenter(extent);\n    var baseParams = {\n      'OPERATION': this.useOverlay_ ? 'GETDYNAMICMAPOVERLAYIMAGE' : 'GETMAPIMAGE',\n      'VERSION': '2.0.0',\n      'LOCALE': 'en',\n      'CLIENTAGENT': 'ol/source/ImageMapGuide source',\n      'CLIP': '1',\n      'SETDISPLAYDPI': this.displayDpi_,\n      'SETDISPLAYWIDTH': Math.round(size[0]),\n      'SETDISPLAYHEIGHT': Math.round(size[1]),\n      'SETVIEWSCALE': scale,\n      'SETVIEWCENTERX': center[0],\n      'SETVIEWCENTERY': center[1]\n    };\n    assign(baseParams, params);\n    return appendParams(baseUrl, baseParams);\n  };\n  /**\n   * Set the image load function of the MapGuide source.\n   * @param {import(\"../Image.js\").LoadFunction} imageLoadFunction Image load function.\n   * @api\n   */\n  ImageMapGuide.prototype.setImageLoadFunction = function (imageLoadFunction) {\n    this.image_ = null;\n    this.imageLoadFunction_ = imageLoadFunction;\n    this.changed();\n  };\n  return ImageMapGuide;\n}(ImageSource);\n/**\n * @param {import(\"../extent.js\").Extent} extent The map extents.\n * @param {import(\"../size.js\").Size} size The viewport size.\n * @param {number} metersPerUnit The meters-per-unit value.\n * @param {number} dpi The display resolution.\n * @return {number} The computed map scale.\n */\nfunction getScale(extent, size, metersPerUnit, dpi) {\n  var mcsW = getWidth(extent);\n  var mcsH = getHeight(extent);\n  var devW = size[0];\n  var devH = size[1];\n  var mpp = 0.0254 / dpi;\n  if (devH * mcsW > devW * mcsH) {\n    return mcsW * metersPerUnit / (devW * mpp); // width limited\n  } else {\n    return mcsH * metersPerUnit / (devH * mpp); // height limited\n  }\n}\n\nexport default ImageMapGuide;","map":{"version":3,"names":["EventType","ImageSource","defaultImageLoadFunction","ImageWrapper","appendParams","assign","containsExtent","getCenter","getHeight","getWidth","scaleFromCenter","ImageMapGuide","_super","__extends","options","_this","call","imageSmoothing","projection","resolutions","crossOrigin_","crossOrigin","undefined","displayDpi_","displayDpi","params_","params","url_","url","imageLoadFunction_","imageLoadFunction","hidpi_","hidpi","metersPerUnit_","metersPerUnit","ratio_","ratio","useOverlay_","useOverlay","image_","renderedRevision_","prototype","getParams","getImageInternal","extent","resolution","pixelRatio","findNearestResolution","image","getRevision","getResolution","getPixelRatio","getExtent","slice","width","height","size","imageUrl","getUrl","addEventListener","CHANGE","handleImageChange","bind","getImageLoadFunction","updateParams","changed","baseUrl","scale","getScale","center","baseParams","Math","round","setImageLoadFunction","dpi","mcsW","mcsH","devW","devH","mpp"],"sources":["/Users/mariovicky/Skripsi_OpenLayers/node_modules/ol/src/source/ImageMapGuide.js"],"sourcesContent":["/**\n * @module ol/source/ImageMapGuide\n */\n\nimport EventType from '../events/EventType.js';\nimport ImageSource, {defaultImageLoadFunction} from './Image.js';\nimport ImageWrapper from '../Image.js';\nimport {appendParams} from '../uri.js';\nimport {assign} from '../obj.js';\nimport {\n  containsExtent,\n  getCenter,\n  getHeight,\n  getWidth,\n  scaleFromCenter,\n} from '../extent.js';\n\n/**\n * @typedef {Object} Options\n * @property {string} [url] The mapagent url.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {number} [displayDpi=96] The display resolution.\n * @property {number} [metersPerUnit=1] The meters-per-unit value.\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\n * the image from the remote server.\n * @property {boolean} [useOverlay] If `true`, will use `GETDYNAMICMAPOVERLAYIMAGE`.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {number} [ratio=1] Ratio. `1` means image requests are the size of the map viewport, `2` means\n * twice the width and height of the map viewport, and so on. Must be `1` or higher.\n * @property {Array<number>} [resolutions] Resolutions.\n * If specified, requests will be made for these resolutions only.\n * @property {import(\"../Image.js\").LoadFunction} [imageLoadFunction] Optional function to load an image given a URL.\n * @property {boolean} [imageSmoothing=true] Enable image smoothing.\n * @property {Object} [params] Additional parameters.\n */\n\n/**\n * @classdesc\n * Source for images from Mapguide servers\n *\n * @fires module:ol/source/Image.ImageSourceEvent\n * @api\n */\nclass ImageMapGuide extends ImageSource {\n  /**\n   * @param {Options} options ImageMapGuide options.\n   */\n  constructor(options) {\n    super({\n      imageSmoothing: options.imageSmoothing,\n      projection: options.projection,\n      resolutions: options.resolutions,\n    });\n\n    /**\n     * @private\n     * @type {?string}\n     */\n    this.crossOrigin_ =\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.displayDpi_ =\n      options.displayDpi !== undefined ? options.displayDpi : 96;\n\n    /**\n     * @private\n     * @type {!Object}\n     */\n    this.params_ = options.params || {};\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.url_ = options.url;\n\n    /**\n     * @private\n     * @type {import(\"../Image.js\").LoadFunction}\n     */\n    this.imageLoadFunction_ =\n      options.imageLoadFunction !== undefined\n        ? options.imageLoadFunction\n        : defaultImageLoadFunction;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.metersPerUnit_ =\n      options.metersPerUnit !== undefined ? options.metersPerUnit : 1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.ratio_ = options.ratio !== undefined ? options.ratio : 1;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.useOverlay_ =\n      options.useOverlay !== undefined ? options.useOverlay : false;\n\n    /**\n     * @private\n     * @type {import(\"../Image.js\").default}\n     */\n    this.image_ = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.renderedRevision_ = 0;\n  }\n\n  /**\n   * Get the user-provided params, i.e. those passed to the constructor through\n   * the \"params\" option, and possibly updated using the updateParams method.\n   * @return {Object} Params.\n   * @api\n   */\n  getParams() {\n    return this.params_;\n  }\n\n  /**\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {number} resolution Resolution.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\n   * @return {import(\"../Image.js\").default} Single image.\n   */\n  getImageInternal(extent, resolution, pixelRatio, projection) {\n    resolution = this.findNearestResolution(resolution);\n    pixelRatio = this.hidpi_ ? pixelRatio : 1;\n\n    let image = this.image_;\n    if (\n      image &&\n      this.renderedRevision_ == this.getRevision() &&\n      image.getResolution() == resolution &&\n      image.getPixelRatio() == pixelRatio &&\n      containsExtent(image.getExtent(), extent)\n    ) {\n      return image;\n    }\n\n    if (this.ratio_ != 1) {\n      extent = extent.slice();\n      scaleFromCenter(extent, this.ratio_);\n    }\n    const width = getWidth(extent) / resolution;\n    const height = getHeight(extent) / resolution;\n    const size = [width * pixelRatio, height * pixelRatio];\n\n    if (this.url_ !== undefined) {\n      const imageUrl = this.getUrl(\n        this.url_,\n        this.params_,\n        extent,\n        size,\n        projection\n      );\n      image = new ImageWrapper(\n        extent,\n        resolution,\n        pixelRatio,\n        imageUrl,\n        this.crossOrigin_,\n        this.imageLoadFunction_\n      );\n      image.addEventListener(\n        EventType.CHANGE,\n        this.handleImageChange.bind(this)\n      );\n    } else {\n      image = null;\n    }\n    this.image_ = image;\n    this.renderedRevision_ = this.getRevision();\n\n    return image;\n  }\n\n  /**\n   * Return the image load function of the source.\n   * @return {import(\"../Image.js\").LoadFunction} The image load function.\n   * @api\n   */\n  getImageLoadFunction() {\n    return this.imageLoadFunction_;\n  }\n\n  /**\n   * Update the user-provided params.\n   * @param {Object} params Params.\n   * @api\n   */\n  updateParams(params) {\n    assign(this.params_, params);\n    this.changed();\n  }\n\n  /**\n   * @param {string} baseUrl The mapagent url.\n   * @param {Object<string, string|number>} params Request parameters.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {import(\"../size.js\").Size} size Size.\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\n   * @return {string} The mapagent map image request URL.\n   */\n  getUrl(baseUrl, params, extent, size, projection) {\n    const scale = getScale(extent, size, this.metersPerUnit_, this.displayDpi_);\n    const center = getCenter(extent);\n    const baseParams = {\n      'OPERATION': this.useOverlay_\n        ? 'GETDYNAMICMAPOVERLAYIMAGE'\n        : 'GETMAPIMAGE',\n      'VERSION': '2.0.0',\n      'LOCALE': 'en',\n      'CLIENTAGENT': 'ol/source/ImageMapGuide source',\n      'CLIP': '1',\n      'SETDISPLAYDPI': this.displayDpi_,\n      'SETDISPLAYWIDTH': Math.round(size[0]),\n      'SETDISPLAYHEIGHT': Math.round(size[1]),\n      'SETVIEWSCALE': scale,\n      'SETVIEWCENTERX': center[0],\n      'SETVIEWCENTERY': center[1],\n    };\n    assign(baseParams, params);\n    return appendParams(baseUrl, baseParams);\n  }\n\n  /**\n   * Set the image load function of the MapGuide source.\n   * @param {import(\"../Image.js\").LoadFunction} imageLoadFunction Image load function.\n   * @api\n   */\n  setImageLoadFunction(imageLoadFunction) {\n    this.image_ = null;\n    this.imageLoadFunction_ = imageLoadFunction;\n    this.changed();\n  }\n}\n\n/**\n * @param {import(\"../extent.js\").Extent} extent The map extents.\n * @param {import(\"../size.js\").Size} size The viewport size.\n * @param {number} metersPerUnit The meters-per-unit value.\n * @param {number} dpi The display resolution.\n * @return {number} The computed map scale.\n */\nfunction getScale(extent, size, metersPerUnit, dpi) {\n  const mcsW = getWidth(extent);\n  const mcsH = getHeight(extent);\n  const devW = size[0];\n  const devH = size[1];\n  const mpp = 0.0254 / dpi;\n  if (devH * mcsW > devW * mcsH) {\n    return (mcsW * metersPerUnit) / (devW * mpp); // width limited\n  } else {\n    return (mcsH * metersPerUnit) / (devH * mpp); // height limited\n  }\n}\n\nexport default ImageMapGuide;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
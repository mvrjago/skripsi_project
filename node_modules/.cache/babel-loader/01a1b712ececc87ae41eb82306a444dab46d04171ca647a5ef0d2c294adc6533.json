{"ast":null,"code":"var _jsxFileName = \"/Users/mariovicky/Skripsi_OpenLayers/src/containers/Map/LeafletMaps/Map2.js\";\nimport React, { Component } from 'react';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nclass MapComponent2 extends Component {\n  constructor(props) {\n    super(props);\n    this.initDrawControl = () => {\n      this.rectangleLayer = new L.FeatureGroup();\n      this.map.addLayer(this.rectangleLayer);\n      const drawControl = new L.Control.Draw({\n        draw: {\n          rectangle: true,\n          polyline: false,\n          circle: false,\n          circlemarker: false,\n          marker: false,\n          polygon: false\n        },\n        edit: {\n          featureGroup: this.rectangleLayer,\n          remove: true\n        }\n      });\n      this.map.addControl(drawControl);\n      this.map.on(L.Draw.Event.CREATED, this.onDrawCreated);\n    };\n    this.onDrawCreated = event => {\n      const {\n        layer\n      } = event;\n      this.rectangleLayer.addLayer(layer);\n      this.rectangle = layer;\n      this.updateBboxCoordinates();\n      const bbox = this.getBoundingBox();\n      if (bbox) {\n        this.map.fitBounds([[bbox.south, bbox.west], [bbox.north, bbox.east]]);\n      }\n    };\n    this.updateBboxCoordinates = () => {\n      const bboxCoordinates = this.rectangle ? this.rectangle.getLatLngs()[0].map(latLng => [latLng.lat.toFixed(2), latLng.lng.toFixed(2)]) : [];\n      console.log('Bbox Coordinates:', bboxCoordinates);\n    };\n    this.getBoundingBox = () => {\n      const bboxCoordinates = this.rectangle ? this.rectangle.getLatLngs()[0].map(latLng => [latLng.lat, latLng.lng]) : [];\n      if (bboxCoordinates.length !== 2) {\n        return null;\n      }\n      const [lat1, lng1] = bboxCoordinates[0];\n      const [lat2, lng2] = bboxCoordinates[1];\n      return {\n        north: Math.max(lat1, lat2),\n        south: Math.min(lat1, lat2),\n        east: Math.max(lng1, lng2),\n        west: Math.min(lng1, lng2)\n      };\n    };\n    this.map = null;\n    this.mapRef = /*#__PURE__*/React.createRef();\n    this.rectangleLayer = null;\n    this.rectangle = null;\n  }\n  componentDidMount() {\n    this.map = L.map(this.mapRef.current).setView([51.505, -0.09], 13);\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'Map data © <a href=\"https://openstreetmap.org\">OpenStreetMap</a> contributors'\n    }).addTo(this.map);\n    this.initDrawControl();\n  }\n  componentWillUnmount() {\n    this.map.remove();\n    this.map = null;\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.mapRef,\n      style: {\n        height: '400px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 12\n      }\n    });\n  }\n}\nexport default MapComponent2;","map":{"version":3,"names":["React","Component","L","MapComponent2","constructor","props","initDrawControl","rectangleLayer","FeatureGroup","map","addLayer","drawControl","Control","Draw","draw","rectangle","polyline","circle","circlemarker","marker","polygon","edit","featureGroup","remove","addControl","on","Event","CREATED","onDrawCreated","event","layer","updateBboxCoordinates","bbox","getBoundingBox","fitBounds","south","west","north","east","bboxCoordinates","getLatLngs","latLng","lat","toFixed","lng","console","log","length","lat1","lng1","lat2","lng2","Math","max","min","mapRef","createRef","componentDidMount","current","setView","tileLayer","attribution","addTo","componentWillUnmount","render","createElement","ref","style","height","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/mariovicky/Skripsi_OpenLayers/src/containers/Map/LeafletMaps/Map2.js"],"sourcesContent":["import React, { Component } from 'react';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\nclass MapComponent2 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.map = null;\n    this.mapRef = React.createRef();\n    this.rectangleLayer = null;\n    this.rectangle = null;\n  }\n\n  componentDidMount() {\n    this.map = L.map(this.mapRef.current).setView([51.505, -0.09], 13);\n\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'Map data © <a href=\"https://openstreetmap.org\">OpenStreetMap</a> contributors',\n    }).addTo(this.map);\n\n    this.initDrawControl();\n  }\n\n  componentWillUnmount() {\n    this.map.remove();\n    this.map = null;\n  }\n\n  initDrawControl = () => {\n    this.rectangleLayer = new L.FeatureGroup();\n    this.map.addLayer(this.rectangleLayer);\n\n    const drawControl = new L.Control.Draw({\n      draw: {\n        rectangle: true,\n        polyline: false,\n        circle: false,\n        circlemarker: false,\n        marker: false,\n        polygon: false,\n      },\n      edit: {\n        featureGroup: this.rectangleLayer,\n        remove: true,\n      },\n    });\n\n    this.map.addControl(drawControl);\n    this.map.on(L.Draw.Event.CREATED, this.onDrawCreated);\n  };\n\n  onDrawCreated = (event) => {\n    const { layer } = event;\n    this.rectangleLayer.addLayer(layer);\n    this.rectangle = layer;\n    this.updateBboxCoordinates();\n\n    const bbox = this.getBoundingBox();\n    if (bbox) {\n      this.map.fitBounds([[bbox.south, bbox.west], [bbox.north, bbox.east]]);\n    }\n  };\n\n  updateBboxCoordinates = () => {\n    const bboxCoordinates = this.rectangle\n      ? this.rectangle.getLatLngs()[0].map((latLng) => [latLng.lat.toFixed(2), latLng.lng.toFixed(2)])\n      : [];\n    console.log('Bbox Coordinates:', bboxCoordinates);\n  };\n\n  getBoundingBox = () => {\n    const bboxCoordinates = this.rectangle\n      ? this.rectangle.getLatLngs()[0].map((latLng) => [latLng.lat, latLng.lng])\n      : [];\n    if (bboxCoordinates.length !== 2) {\n      return null;\n    }\n\n    const [lat1, lng1] = bboxCoordinates[0];\n    const [lat2, lng2] = bboxCoordinates[1];\n    return {\n      north: Math.max(lat1, lat2),\n      south: Math.min(lat1, lat2),\n      east: Math.max(lng1, lng2),\n      west: Math.min(lng1, lng2),\n    };\n  };\n\n  render() {\n    return <div ref={this.mapRef} style={{ height: '400px' }} />;\n  }\n}\n\nexport default MapComponent2;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
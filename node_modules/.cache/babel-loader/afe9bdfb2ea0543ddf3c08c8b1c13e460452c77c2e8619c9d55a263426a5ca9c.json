{"ast":null,"code":"var _jsxFileName = \"/Users/mariovicky/Skripsi_OpenLayers/src/containers/Map/OpenlayerMaps/Map.js\";\nimport React, { Component } from 'react';\nimport 'ol/ol.css';\nimport './Map.css';\nimport Map from 'ol/Map.js';\nimport View from 'ol/View.js';\nimport { Stroke, Style, Icon, Fill } from 'ol/style.js';\nimport { Tile as TileLayer, Vector as VectorLayer } from 'ol/layer.js';\nimport OSM from 'ol/source/OSM.js';\nimport VectorSource from 'ol/source/Vector.js';\nimport Feature from 'ol/Feature.js';\nimport { fromLonLat } from 'ol/proj.js';\nimport LineString from 'ol/geom/LineString.js';\nimport { getVectorContext } from 'ol/render.js';\nimport { getWidth } from 'ol/extent.js';\nimport arc from 'arc';\nimport airplaneimg from './614.png';\nclass MapComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.animateFlights = event => {\n      const vectorContext = getVectorContext(event);\n      const frameState = event.frameState;\n      vectorContext.setStyle(this.style);\n      const features = this.flightsSource.getFeatures();\n      const bbox = [this.state.lomin, this.state.lamin, this.state.lomax, this.state.lamax];\n      for (let i = 0; i < features.length; i++) {\n        const feature = features[i];\n        if (!feature.get('finished')) {\n          const coords = feature.getGeometry().getCoordinates();\n          const elapsedTime = frameState.time - feature.get('start');\n          if (elapsedTime >= 0) {\n            const elapsedPoints = elapsedTime * this.pointsPerMs;\n            if (elapsedPoints >= coords.length) {\n              feature.set('finished', true);\n            }\n            const maxIndex = Math.min(elapsedPoints, coords.length);\n            const currentLine = new LineString(coords.slice(0, maxIndex));\n            const worldWidth = getWidth(this.map.getView().getProjection().getExtent());\n            const offset = Math.floor(this.map.getView().getCenter()[0] / worldWidth);\n            currentLine.translate(offset * worldWidth, 0);\n\n            // Cek apakah penerbangan berada di dalam bbox\n            if (currentLine.intersectsExtent(bbox)) {\n              const lineExtent = currentLine.getExtent();\n              const intersectExtent = currentLine.getExtent().slice(0);\n              intersectExtent[0] = Math.max(intersectExtent[0], bbox[0]);\n              intersectExtent[1] = Math.max(intersectExtent[1], bbox[1]);\n              intersectExtent[2] = Math.min(intersectExtent[2], bbox[2]);\n              intersectExtent[3] = Math.min(intersectExtent[3], bbox[3]);\n              const intersectLine = currentLine.clone();\n              intersectLine.setCoordinates([[intersectExtent[0], intersectExtent[1]], [intersectExtent[0], intersectExtent[3]], [intersectExtent[2], intersectExtent[3]], [intersectExtent[2], intersectExtent[1]], [intersectExtent[0], intersectExtent[1]]]);\n              vectorContext.drawGeometry(intersectLine);\n            }\n          }\n        }\n      }\n      this.map.render();\n    };\n    this.handleCoordinateInputChange = event => {\n      this.setState({\n        coordinateInput: event.target.value\n      });\n    };\n    this.handleCoordinateSubmit = () => {\n      const {\n        coordinateInput\n      } = this.state;\n      // Parse koordinat dari string input\n      const coordinates = coordinateInput.split(',').map(coord => parseFloat(coord.trim()));\n      // Cek apakah koordinat valid\n      if (coordinates.length === 4 && !isNaN(coordinates[0]) && !isNaN(coordinates[1]) && !isNaN(coordinates[2]) && !isNaN(coordinates[3])) {\n        // Atur tampilan ke koordinat yang dipilih\n        const view = this.map.getView();\n        const center = fromLonLat(coordinates); // Ubah koordinat menjadi titik dalam EPSG:3857\n        view.setCenter(center);\n        view.setZoom(2); // Ganti dengan zoom level yang diinginkan\n\n        // Atur state dengan koordinat terkait\n        this.setState({\n          lamin: coordinates[1] - 1,\n          lomin: coordinates[0] - 1,\n          lamax: coordinates[3] + 1,\n          lomax: coordinates[2] + 1\n        }, () => {\n          this.drawBoundingBox();\n        });\n      } else {\n        // Tampilkan pesan kesalahan jika koordinat tidak valid\n        alert('Koordinat tidak valid!');\n      }\n    };\n    this.mapRef = /*#__PURE__*/React.createRef();\n    this.map = null;\n    this.flightsSource = null;\n    this.tileLayer = null;\n    this.flightsLayer = null;\n    this.style = null;\n    this.airplaneIcon = null;\n    this.pointsPerMs = 0.02;\n    this.state = {\n      coordinateInput: '',\n      lamin: null,\n      lomin: null,\n      lamax: null,\n      lomax: null\n    };\n  }\n  componentDidMount() {\n    this.initializeMap();\n  }\n  initializeMap() {\n    this.tileLayer = new TileLayer({\n      source: new OSM()\n    });\n    this.map = new Map({\n      layers: [this.tileLayer],\n      target: this.mapRef.current,\n      view: new View({\n        center: [-11000000, 4600000],\n        zoom: 2\n      })\n    });\n    this.airplaneIcon = new Icon({\n      src: airplaneimg,\n      scale: 0.5\n    });\n    this.style = new Style({\n      stroke: new Stroke({\n        color: 'red',\n        width: 2\n      }),\n      image: this.airplaneIcon\n    });\n    this.flightsSource = new VectorSource({\n      loader: () => {\n        const url = '/data/openflights/flights.json';\n        fetch(url).then(response => {\n          if (!response.ok) {\n            throw new Error('Network response was not ok');\n          }\n          return response.json();\n        }).then(json => {\n          const flightsData = json.flights;\n          for (let i = 0; i < flightsData.length; i++) {\n            const flight = flightsData[i];\n            const from = flight[0];\n            const to = flight[1];\n            const arcGenerator = new arc.GreatCircle({\n              x: from[1],\n              y: from[0]\n            }, {\n              x: to[1],\n              y: to[0]\n            });\n            const arcLine = arcGenerator.Arc(100, {\n              offset: 10\n            });\n            const features = [];\n            arcLine.geometries.forEach(geometry => {\n              const line = new LineString(geometry.coords);\n              line.transform('EPSG:4326', 'EPSG:3857');\n              features.push(new Feature({\n                geometry: line,\n                finished: false\n              }));\n            });\n            this.addLater(features, i * 50);\n          }\n          this.tileLayer.on('postrender', this.animateFlights);\n        }).catch(error => {\n          console.error('Error fetching JSON:', error);\n          console.error('URL:', url);\n        });\n      }\n    });\n    this.flightsLayer = new VectorLayer({\n      source: this.flightsSource,\n      style: feature => {\n        if (feature.get('finished')) {\n          return this.style;\n        }\n        return null;\n      }\n    });\n    this.map.addLayer(this.flightsLayer);\n  }\n  addLater(features, timeout) {\n    window.setTimeout(() => {\n      let start = Date.now();\n      features.forEach(feature => {\n        feature.set('start', start);\n        this.flightsSource.addFeature(feature);\n        const duration = (feature.getGeometry().getCoordinates().length - 1) / this.pointsPerMs;\n        start += duration;\n      });\n    }, timeout);\n  }\n  drawBoundingBox() {\n    const {\n      lamin,\n      lomin,\n      lamax,\n      lomax\n    } = this.state;\n    const bboxSource = new VectorSource();\n    const bboxLayer = new VectorLayer({\n      source: bboxSource,\n      style: new Style({\n        stroke: new Stroke({\n          color: 'blue',\n          width: 5\n        }),\n        fill: new Fill({\n          color: 'rgba(0, 0, 255, 0.1)'\n        })\n      })\n    });\n    const bboxCoords = [[lomin, lamin], [lomin, lamax], [lomax, lamax], [lomax, lamin], [lomin, lamin]];\n    const bboxFeature = new Feature({\n      geometry: new LineString(bboxCoords).transform('EPSG:4326', 'EPSG:3857')\n    });\n    bboxSource.addFeature(bboxFeature);\n    this.map.addLayer(bboxLayer);\n  }\n  render() {\n    const {\n      lamin,\n      lomin,\n      lamax,\n      lomax\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.mapRef,\n      className: \"map-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"coordinate-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"coordinateInput\",\n      placeholder: \"Masukkan koordinat (longitude, latitude)\",\n      onChange: this.handleCoordinateInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.handleCoordinateSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }\n    }, \"Go\"))), lamin !== null && lomin !== null && lamax !== null && lomax !== null && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 13\n      }\n    }, \"Lamin: \", lamin), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 13\n      }\n    }, \"Lomin: \", lomin), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 13\n      }\n    }, \"Lamax: \", lamax), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 13\n      }\n    }, \"Lomax: \", lomax)));\n  }\n}\nexport default MapComponent;","map":{"version":3,"names":["React","Component","Map","View","Stroke","Style","Icon","Fill","Tile","TileLayer","Vector","VectorLayer","OSM","VectorSource","Feature","fromLonLat","LineString","getVectorContext","getWidth","arc","airplaneimg","MapComponent","constructor","props","animateFlights","event","vectorContext","frameState","setStyle","style","features","flightsSource","getFeatures","bbox","state","lomin","lamin","lomax","lamax","i","length","feature","get","coords","getGeometry","getCoordinates","elapsedTime","time","elapsedPoints","pointsPerMs","set","maxIndex","Math","min","currentLine","slice","worldWidth","map","getView","getProjection","getExtent","offset","floor","getCenter","translate","intersectsExtent","lineExtent","intersectExtent","max","intersectLine","clone","setCoordinates","drawGeometry","render","handleCoordinateInputChange","setState","coordinateInput","target","value","handleCoordinateSubmit","coordinates","split","coord","parseFloat","trim","isNaN","view","center","setCenter","setZoom","drawBoundingBox","alert","mapRef","createRef","tileLayer","flightsLayer","airplaneIcon","componentDidMount","initializeMap","source","layers","current","zoom","src","scale","stroke","color","width","image","loader","url","fetch","then","response","ok","Error","json","flightsData","flights","flight","from","to","arcGenerator","GreatCircle","x","y","arcLine","Arc","geometries","forEach","geometry","line","transform","push","finished","addLater","on","catch","error","console","addLayer","timeout","window","setTimeout","start","Date","now","addFeature","duration","bboxSource","bboxLayer","fill","bboxCoords","bboxFeature","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref","className","type","name","placeholder","onChange","onClick"],"sources":["/Users/mariovicky/Skripsi_OpenLayers/src/containers/Map/OpenlayerMaps/Map.js"],"sourcesContent":["import React, { Component } from 'react';\nimport 'ol/ol.css';\nimport './Map.css';\nimport Map from 'ol/Map.js';\nimport View from 'ol/View.js';\nimport { Stroke, Style, Icon, Fill } from 'ol/style.js';\nimport { Tile as TileLayer, Vector as VectorLayer } from 'ol/layer.js';\nimport OSM from 'ol/source/OSM.js';\nimport VectorSource from 'ol/source/Vector.js';\nimport Feature from 'ol/Feature.js';\nimport { fromLonLat } from 'ol/proj.js';\nimport LineString from 'ol/geom/LineString.js';\nimport { getVectorContext } from 'ol/render.js';\nimport { getWidth } from 'ol/extent.js';\nimport arc from 'arc';\nimport airplaneimg from './614.png';\n\nclass MapComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.mapRef = React.createRef();\n    this.map = null;\n    this.flightsSource = null;\n    this.tileLayer = null;\n    this.flightsLayer = null;\n    this.style = null;\n    this.airplaneIcon = null;\n    this.pointsPerMs = 0.02;\n    this.state = {\n      coordinateInput: '',\n      lamin: null,\n      lomin: null,\n      lamax: null,\n      lomax: null,\n    };\n  }\n\n  componentDidMount() {\n    this.initializeMap();\n  }\n\n  initializeMap() {\n    this.tileLayer = new TileLayer({\n      source: new OSM(),\n    });\n\n    this.map = new Map({\n      layers: [this.tileLayer],\n      target: this.mapRef.current,\n      view: new View({\n        center: [-11000000, 4600000],\n        zoom: 2,\n      }),\n    });\n\n    this.airplaneIcon = new Icon({\n      src: airplaneimg,\n      scale: 0.5,\n    });\n\n    this.style = new Style({\n      stroke: new Stroke({\n        color: 'red',\n        width: 2,\n      }),\n      image: this.airplaneIcon,\n    });\n\n    this.flightsSource = new VectorSource({\n      loader: () => {\n        const url = '/data/openflights/flights.json';\n        fetch(url)\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error('Network response was not ok');\n            }\n            return response.json();\n          })\n          .then((json) => {\n            const flightsData = json.flights;\n            for (let i = 0; i < flightsData.length; i++) {\n              const flight = flightsData[i];\n              const from = flight[0];\n              const to = flight[1];\n\n              const arcGenerator = new arc.GreatCircle(\n                { x: from[1], y: from[0] },\n                { x: to[1], y: to[0] }\n              );\n\n              const arcLine = arcGenerator.Arc(100, { offset: 10 });\n              const features = [];\n              arcLine.geometries.forEach((geometry) => {\n                const line = new LineString(geometry.coords);\n                line.transform('EPSG:4326', 'EPSG:3857');\n\n                features.push(\n                  new Feature({\n                    geometry: line,\n                    finished: false,\n                  })\n                );\n              });\n\n              this.addLater(features, i * 50);\n            }\n\n            this.tileLayer.on('postrender', this.animateFlights);\n          })\n          .catch((error) => {\n            console.error('Error fetching JSON:', error);\n            console.error('URL:', url);\n          });\n      },\n    });\n\n    this.flightsLayer = new VectorLayer({\n      source: this.flightsSource,\n      style: (feature) => {\n        if (feature.get('finished')) {\n          return this.style;\n        }\n        return null;\n      },\n    });\n\n    this.map.addLayer(this.flightsLayer);\n  }\n\n  animateFlights = (event) => {\n    const vectorContext = getVectorContext(event);\n    const frameState = event.frameState;\n    vectorContext.setStyle(this.style);\n  \n    const features = this.flightsSource.getFeatures();\n    const bbox = [this.state.lomin, this.state.lamin, this.state.lomax, this.state.lamax];\n  \n    for (let i = 0; i < features.length; i++) {\n      const feature = features[i];\n      if (!feature.get('finished')) {\n        const coords = feature.getGeometry().getCoordinates();\n        const elapsedTime = frameState.time - feature.get('start');\n        if (elapsedTime >= 0) {\n          const elapsedPoints = elapsedTime * this.pointsPerMs;\n  \n          if (elapsedPoints >= coords.length) {\n            feature.set('finished', true);\n          }\n  \n          const maxIndex = Math.min(elapsedPoints, coords.length);\n          const currentLine = new LineString(coords.slice(0, maxIndex));\n  \n          const worldWidth = getWidth(this.map.getView().getProjection().getExtent());\n          const offset = Math.floor(this.map.getView().getCenter()[0] / worldWidth);\n  \n          currentLine.translate(offset * worldWidth, 0);\n  \n          // Cek apakah penerbangan berada di dalam bbox\n          if (currentLine.intersectsExtent(bbox)) {\n            const lineExtent = currentLine.getExtent();\n            const intersectExtent = currentLine.getExtent().slice(0);\n            intersectExtent[0] = Math.max(intersectExtent[0], bbox[0]);\n            intersectExtent[1] = Math.max(intersectExtent[1], bbox[1]);\n            intersectExtent[2] = Math.min(intersectExtent[2], bbox[2]);\n            intersectExtent[3] = Math.min(intersectExtent[3], bbox[3]);\n  \n            const intersectLine = currentLine.clone();\n            intersectLine.setCoordinates([\n              [intersectExtent[0], intersectExtent[1]],\n              [intersectExtent[0], intersectExtent[3]],\n              [intersectExtent[2], intersectExtent[3]],\n              [intersectExtent[2], intersectExtent[1]],\n              [intersectExtent[0], intersectExtent[1]]\n            ]);\n  \n            vectorContext.drawGeometry(intersectLine);\n          }\n        }\n      }\n    }\n  \n    this.map.render();\n  };\n  \n  \n  addLater(features, timeout) {\n    window.setTimeout(() => {\n      let start = Date.now();\n      features.forEach((feature) => {\n        feature.set('start', start);\n        this.flightsSource.addFeature(feature);\n        const duration =\n          (feature.getGeometry().getCoordinates().length - 1) / this.pointsPerMs;\n        start += duration;\n      });\n    }, timeout);\n  }\n\n  handleCoordinateInputChange = (event) => {\n    this.setState({ coordinateInput: event.target.value });\n  };\n\n  handleCoordinateSubmit = () => {\n    const { coordinateInput } = this.state;\n    // Parse koordinat dari string input\n    const coordinates = coordinateInput.split(',').map((coord) => parseFloat(coord.trim()));\n    // Cek apakah koordinat valid\n    if (coordinates.length === 4 && !isNaN(coordinates[0]) && !isNaN(coordinates[1]) && !isNaN(coordinates[2]) && !isNaN(coordinates[3])) {\n      // Atur tampilan ke koordinat yang dipilih\n      const view = this.map.getView();\n      const center = fromLonLat(coordinates); // Ubah koordinat menjadi titik dalam EPSG:3857\n      view.setCenter(center);\n      view.setZoom(2); // Ganti dengan zoom level yang diinginkan\n\n      // Atur state dengan koordinat terkait\n      this.setState(\n        {\n          lamin: coordinates[1] - 1,\n          lomin: coordinates[0] - 1,\n          lamax: coordinates[3] + 1,\n          lomax: coordinates[2] + 1,\n        },\n        () => {\n          this.drawBoundingBox();\n        }\n      );\n    } else {\n      // Tampilkan pesan kesalahan jika koordinat tidak valid\n      alert('Koordinat tidak valid!');\n    }\n  };\n\n  drawBoundingBox() {\n    const { lamin, lomin, lamax, lomax } = this.state;\n\n    const bboxSource = new VectorSource();\n    const bboxLayer = new VectorLayer({\n      source: bboxSource,\n      style: new Style({\n        stroke: new Stroke({\n          color: 'blue',\n          width: 5,\n        }),\n        fill: new Fill({\n          color: 'rgba(0, 0, 255, 0.1)',\n        }),\n      }),\n    });\n\n    const bboxCoords = [\n      [lomin, lamin],\n      [lomin, lamax],\n      [lomax, lamax],\n      [lomax, lamin],\n      [lomin, lamin],\n    ];\n\n    const bboxFeature = new Feature({\n      geometry: new LineString(bboxCoords).transform('EPSG:4326', 'EPSG:3857'),\n    });\n\n    bboxSource.addFeature(bboxFeature);\n\n    this.map.addLayer(bboxLayer);\n  }\n\n  render() {\n    const { lamin, lomin, lamax, lomax } = this.state;\n    return (\n      <div>\n        <div ref={this.mapRef} className=\"map-container\" />\n        <div className=\"coordinate-input\">\n          <form>\n            <input\n              type=\"text\"\n              name=\"coordinateInput\"\n              placeholder=\"Masukkan koordinat (longitude, latitude)\"\n              onChange={this.handleCoordinateInputChange}\n            />\n            <button type=\"button\" onClick={this.handleCoordinateSubmit}>\n              Go\n            </button>\n          </form>\n        </div>\n        {lamin !== null && lomin !== null && lamax !== null && lomax !== null && (\n          <div>\n            <p>Lamin: {lamin}</p>\n            <p>Lomin: {lomin}</p>\n            <p>Lamax: {lamax}</p>\n            <p>Lomax: {lomax}</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MapComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}